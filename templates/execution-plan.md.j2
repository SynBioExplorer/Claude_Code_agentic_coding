# Execution Plan

**Request:** {{ request }}
**Generated:** {{ created_at }}
**Risk Score:** {{ risk_score }} {% if auto_approve %}(Auto-approve){% else %}(Requires Review){% endif %}

---

## Overview

This plan decomposes the request into {{ tasks | length }} parallel tasks organized into {{ parallel_waves | length }} execution wave(s).

{% if contracts %}
### Interface Contracts

| Contract | Version | Methods | Consumers |
|----------|---------|---------|-----------|
{% for contract in contracts %}
| {{ contract.name }} | `{{ contract.version }}` | {{ contract.methods | join(', ') }} | {{ contract.consumers | join(', ') or '-' }} |
{% endfor %}
{% endif %}

---

## Execution Waves

{% for wave in parallel_waves %}
### Wave {{ loop.index }}

Tasks in this wave can execute in parallel:

{% for task_id in wave %}
{% set task = tasks_by_id[task_id] %}
#### {{ task_id }}

> {{ task.description }}

**Files:**
{% for file in task.files_write %}
- `{{ file }}`
{% endfor %}

{% if task.resources_write %}
**Resources:**
{% for resource in task.resources_write %}
- `{{ resource }}`
{% endfor %}
{% endif %}

{% if task.depends_on %}
**Depends on:** {{ task.depends_on | join(', ') }}
{% endif %}

**Verification:**
{% for check in task.verification %}
- `{{ check.command }}` ({{ check.type }})
{% endfor %}

{% if task.patch_intents %}
**Patch Intents:**
{% for intent in task.patch_intents %}
- `{{ intent.file }}`: {{ intent.action }}
{% endfor %}
{% endif %}

---

{% endfor %}
{% endfor %}

## Risk Assessment

**Score:** {{ risk_score }} / 100

{% if risk_factors %}
**Factors:**
{% for factor in risk_factors %}
- {{ factor }}
{% endfor %}
{% endif %}

{% if auto_approve %}
This plan qualifies for auto-approval based on the risk threshold.
{% else %}
This plan requires human review before execution.
{% endif %}

---

## Post-Merge Verification

After all tasks are merged, these checks will run:
{% for check in post_merge_checks %}
- `{{ check }}`
{% endfor %}

---

*Generated by Claude Orchestrator*
